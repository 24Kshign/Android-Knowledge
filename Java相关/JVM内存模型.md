## JVM内存模型

在Java中，有六种存储地址：

### 寄存器
>这是最快的存储区，它位于不同于其他存储区的地方（处理器内部）。但是寄存器的数量极其有限，所以寄存器由编译器根据需求进行分配。你不能直接控制，也不能在程序中感觉到寄存器存在的任何迹象。

### 栈区
>位于通用RAM中，这是一种快速有效的分配存储方法，仅次于寄存器。每个线程包含一个栈，栈中只保存基础数据类型的值和对象以及基础数据的引用；每个栈中的数据(基础数据类型和对象引用)都是私有的，其他栈不能访问。 栈分为3个部分：基本类型变量区、执行环境上下文、操作指令区(存放操作指令)。 

### 堆区
>一种通用性的内存池（也存在于RAM中）。堆中存储的全部是对象，每个对象都包含一个与之对应的class的信息。(class的目的是得到操作指令) ；jvm只有一个堆区(heap)被所有线程共享，堆中不存放基本类型和对象引用，只存放对象本身。

**注意：实际上，栈中的变量指向堆内存中的变量，这就是Java中的指针！**

### 方法区(静态区)
>这里的“静态”是指“在固定的位置”。静态存储里存放程序运行时一直存在的数据。跟堆一样，被所有的线程共享。方法区包含所有的class和static变量。 方法区中包含的都是在整个程序中永远唯一的元素，如class，static变量。 

### 常量存储
>常量值通常直接存放在程序代码内部，这样做是安全的，因为它们永远不会被改变。有时，在嵌入式系统中，常量本身会和其他部分分割离开，所以在这种情况下，可以选择将其放在ROM中。


### 非RAM存储
>如果数据完全存活于程序之外，那么它可以不受程序的任何控制，在程序没有运行时也可以存在。

我们日常开发过程中比较常见的也就三种，堆、栈和方法区。下面通过一张图片来了解他们：
![](http://ooaap25kv.bkt.clouddn.com/18-8-8/45764560.jpg)
