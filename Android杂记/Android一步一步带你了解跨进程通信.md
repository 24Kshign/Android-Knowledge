## Android一步一步带你了解跨进程通信

### 什么是进程？

在我们日常开发中，好像和线程打交道多一点，大部分人还是没有和进程打过交道的，那什么是进程呢？进程一般指一个执行单元吗，我们`Android`应用程序就是一个进程，一个进程可以只包含一个线程，在`Android`中我们称之为主线程或者`UI`线程。

![](http://ooaap25kv.bkt.clouddn.com/18-10-11/61560334.jpg)

### 为什么要跨进程通信？

跨进程通信，简言之，就得有多个进程，才能实现跨进程通信；那么在 `Android`开发中，我们使用的最多的还是多线程，应该绝大多数人都没有使用过多进程，那么为什么要使用多进程呢？有两种情况，第一就是一个应用因为某些原因自身需要多进程来实现，比如有些模块由于特殊原因需要运行在单独的进程中，又比如为了加大一个应用可使用的内存所以需要通过多进程的方式来获取多份内存空间；还有一种情况就是当前应应用需要向其他应用获取数据，由于是两个应用，所以必须采用跨进程通信的方式来获取数据。

### 如何使用多进程？

在 Android中使用多进程的方法只有一个，就是在`AndroidMenifest`中给四大组件指定`android:process`属性就可以了，但是使用多进程之后会出现很多问题，例如数据，线程等：

- **1、静态成员和单例模式完全失效**
- **2、线程同步机制完全失效**
- **3、SharePrefrfence的可靠性下降**
- **4、Application会被多次创建**

### 实现跨进程通信的方法

上面说到使用多进程会出现很多问题，为了解决这些问题，系统提供了很多跨进程通信的方法，能让我们实现数据交互，文件共享等操作，例如基于`Binder`的`Messenger`和`AIDL`，`Socket`等都是可以实现跨进程通信的；在学习这些方法之前我们需要先了解一个知识，序列化，什么是序列化呢？就是指把Java对象保存为二进制字节码的过程，那怎么取出被序列化过的数据呢，在Java中，将二进制字节码重新转换成对象的过程叫做反序列化，这两个过程可以在完全不同的系统下进行。

